{"entries":[{"timestamp":1751133243045,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables><variable id=\"XCaB9=u8$F#qh0;N+J[W\">y</variable><variable id=\"*5dS%^(56(5)ocw(0xqT\">x</variable><variable id=\"y}~zcME$T5@hH43)8wVL\">px</variable><variable id=\"cX!7sUK^uhXq6H,-iH=?\">last_x</variable><variable id=\"NEu$rKj#8hL1sYX4Q(}]\">heldFrames</variable><variable id=\"-7~mYT3Z2(+=Q@Wgz3HA\">onGround</variable><variable id=\"[Yp,8AiU#3sWmubLSy.7\">hangFrames</variable><variable id=\"6yh)d@Zwofj(it(`)~hC\">py</variable><variable id=\"{YiQ1;M1!Cm7.N5clLlq\">player_x</variable><variable id=\"`kj0+$}kf*SJ81:?A8^6\">player_y</variable><variable id=\"Nqd#gucrL]~}`PaOkai)\">list</variable><variable id=\"]vs05QM+=W+51xLqU-AT\">currentMap</variable><variable id=\"Q+Sy`a(Z@jvatwp`{|cN\">last_y</variable><variable id=\";ZKZ(~vyjO4,J*+mU*tj\">map_1</variable></variables><comment id=\"MC2eESDi,U5+zcFWfn7}\" x=\"20\" y=\"1817\" w=\"160\" h=\"120\">\nSave states\n</comment>"],[1,"www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n"],[0,"</xm"]],"start1":12,"start2":12,"length1":899,"length2":113}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"// Save states\nlet last_x = 0;\nlet last_y = 0;\nlet onGround = false;\n\nlet hangFrames = 2;\nlet heldFrames = 0;\n\nfunction LoadMap(map: number[][]) {\n    for (let y = 0; y < 5; y++) {\n        for (let x = 0; x < 5; x++) {\n            if (map[y][x] == 1) {\n                led.plot(x, y);\n            }\n        }\n    }\n}\nfunction UpdatePlayer(px: number, py: number, map: number[][]) {\n    // Clear current location\n    led.unplot(px, py);\n    // Run our calculations\n    // Check x\n    if (map[py][px] == 1) {\n        px = last_x;\n    }\n    // Check y\n    if (map[py + 1][px] != 1) {\n        heldFrames++;\n        onGround = false;\n        if (heldFrames > hangFrames) {\n            heldFrames = 0;\n            py++;\n        }\n    } else if (map[py][px] == 1) {\n        onGround = false;\n        heldFrames++;\n        if (heldFrames > hangFrames) {\n            heldFrames = 0;\n            py--;\n        }\n    } else {\n        heldFrames = 0;\n        onGround = true;\n    }\n    // Draw\n    led.plot(px, py);\n\n    player_x = px;\n    player_y = py;\n}\n\nlet map_1: number[][] = [\n    [0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0],\n    [1, 0, 0, 0, 1],\n    [1, 1, 0, 0, 1],\n    [1, 1, 1, 1, 1]\n];\n\nlet currentMap = map_1;\n\nLoadMap(currentMap);\n\nlet player_x = 0;\nlet player_y = 0;\n\n\n// Play the game\nbasic.forever(function () {\n    LoadMap(currentMap);\n    last_x = player_x;\n    last_y = player_y;\n    led.unplot(last_x, last_y);\n\n\n    if (input.buttonIsPressed(Button.A) && input.buttonIsPressed(Button.B) && onGround) {\n        onGround = !onGround;\n        if (player_y - 2 < 0) {\n            player_y--;\n        } else {\n            player_y -= 2;\n        }\n    } else if (input.buttonIsPressed(Button.B) && player_x < 5) {\n        player_x++;\n    } else if (input.buttonIsPressed(Button.A) && player_x > 0) {\n        player_x--;\n    }\n\n    UpdatePlayer(player_x, player_y, currentMap);\n    control.waitMicros(50000);\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":1908,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"\": \""],[-1,"Platformer"],[1,"Untitled"],[0,"\",\n "]],"start1":11,"start2":11,"length1":18,"length2":16},{"diffs":[[0,"   \""],[-1,"testFiles\": [\n        \"test.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\""],[1,"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":232,"start2":232,"length1":76,"length2":31}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1751133243044,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"Untitled\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1751133306074}